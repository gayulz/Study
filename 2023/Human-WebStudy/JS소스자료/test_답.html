<!DOCTYPE html>
<html lang="kor">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    table {
        border-collapse: collapse;
        border: 0;
    }

    th,
    td {
        border: 1px solid #aaa;
        background-clip: padding-box;
        scroll-snap-align: start;
    }

    tbody tr:last-child th,
    tbody tr:last-child td {
        border-bottom: 0;
    }

    thead {
        z-index: 1000;
        position: relative;
    }

    th,
    td {
        padding: 0.6rem;
        min-width: 6rem;
        text-align: left;
        margin: 0;
    }

    thead th {
        position: sticky;
        top: 0;
        border-top: 0;
        background-clip: padding-box;
    }

    thead th.pin {
        left: 0;
        z-index: 1001;
        border-left: 0;
    }

    tbody th {
        background-clip: padding-box;
        border-left: 0;
    }

    tbody {
        z-index: 10;
        position: relative;
    }

    tbody th {
        position: sticky;
        left: 0;
    }

    thead th,
    tbody th {
        background-color: #f8f8f8;
    }
</style>

<body>
    <h3> 협업 프로젝트 과제
        1. 개인별 분석 2. 기술회의 3. 토론 4. 답하나 선정 5.제출
    </h3>
    <p> 문제1. 자바스크립트의 명령어를 해석하고 실행하는 프로그램은? </p>
    <p> 문제2. getElementById, getElementByClass의 사용용도는? 차이점 </p>
    <p> 문제3. 선택자란 무엇인가? </p>
    <p> 문제4. 수업시간에 크롬의 개발자의 콘솔에서 자바스크립트 언어를 실행하는 이유는? </p>
    <p> 문제5. 테스트 코드를 작성했던 경험을 1개씩 작성하시오. </p>
    <p> 문제6. html 태크에서 자바스크립트를 호출한 방법 2가지를 정리하시오.</p>
    <p> 문제7. quereyselector의 사용법을 연구하고 getElementById와의 차이점을 구별해 보세요</p>
    <p> 문제8. quereyselectorAll의 사용법을 연구하고 getElementByClass와의 비슷한 점을 정리해 보세요</p>
    <p> 문제9. 람다식에 대하여 설명하시오.</p>
    <p> 문제10. 자바스크립트 function 과 method를 설명하시오</p>
    <p> 문제11. var 와 let 차이를 설명하고 차이를 샘플 코드로 만들어서 증빙하시오.</p>
    <p> 문제12. 아래에 2개의 테이블이 있다. 위 테이블에는 학생 명단이다. 학생의 체크박스를 추가하고 select버튼을 누르면
        아래의 테이블로 이동하도록 한다. 순서는 상관이 없다.
        참고 자료 : https://hianna.tistory.com/443
        -- javascript만 사용하시오
    </p>
    <p> 문제13. 문제12번 미션을 jquery 로 작성해 보세요
        참고 https://zetawiki.com/wiki/JQuery_%ED%85%8C%EC%9D%B4%EB%B8%94_%ED%96%89_%EC%B6%94%EA%B0%80/%EC%82%AD%EC%A0%9C
    </p>
    <table>
        <thead>
            <tr>
                <td></td>
                <td>학번</td>
                <td>이름</td>
                <td>학과</td>
                <td>전공</td>
            </tr>
        </thead>
        <tbody id="oldItem">
            <tr>
                <td><input type=checkbox name=idx value="1"> </td>
                <td>1111</td>
                <td>홍길동</td>
                <td>컴퓨터과학</td>
                <td>전공</td>
            </tr>
            <tr>
                <td><input type=checkbox name=idx value="2"></td>
                <td>2222</td>
                <td>이길동</td>
                <td>간호학과</td>
                <td>전공</td>
            </tr>
            <tr>
                <td><input type=checkbox name=idx value="3"></td>
                <td>3333</td>
                <td>고길동</td>
                <td>일어일문</td>
                <td>전공</td>
            </tr>
        </tbody>

    </table>
    <button onclick="selectionItem()">select</button>
    <table >
        <thead >
            <tr>
                <td></td>
                <td>학번</td>
                <td>이름</td>
                <td>학과</td>
                <td>전공</td>
            </tr>
        </thead>
        <tbody id="selectItem">

        </tbody>
    </table>
    <button onclick="deselectItem()">cancel</button>
</body>

</html>
<script>
    
    function deselectItem(){
        var delidx=new Array();
        var newChk = document.getElementsByClassName('newChk')
        for (let i = 0; i < newChk.length; i++) {
            if (newChk[i].checked) {
                delidx.push(i)                  
                console.log(i, newChk[i].value)
                pnode = newChk[i].parentNode      // 0번 체크박스가 체크 되었다고 가정 함.
                var gnumber = pnode.nextElementSibling.innerText
                var gname = pnode.nextElementSibling.nextElementSibling.innerText
                var major = pnode.nextElementSibling.nextElementSibling.nextElementSibling.innerText
                var majormemo = pnode.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.innerText

                var target_table = document.querySelector('#oldItem')
                const newrow = target_table.insertRow(newChk[i].value)
                const newcell1 = newrow.insertCell(0);
                const newcell2 = newrow.insertCell(1);
                const newcell3 = newrow.insertCell(2);
                const newcell4 = newrow.insertCell(3);
                const newcell5 = newrow.insertCell(4);
                newcell1.innerHTML = '<input type=checkbox name=idx>'
                newcell2.innerText = gnumber
                newcell3.innerText = gname
                newcell4.innerText = major
                newcell5.innerText = majormemo
            }
        }
        var target_table = document.querySelector('#selectItem')
        for(let i=delidx.length-1 ; i >= 0; i--){
            console.log(i);
            target_table.deleteRow(delidx[i]);
        }

    }
    function selectionItem() {
        var delidx=new Array();
        var a = document.getElementsByName('idx')
        for (let i = 0; i < a.length; i++) {
            if (a[i].checked) {
                delidx.push(i);
                pnode = a[i].parentNode      // 0번 체크박스가 체크 되었다고 가정 함.
                var gnumber = pnode.nextElementSibling.innerText
                var gname = pnode.nextElementSibling.nextElementSibling.innerText
                var major = pnode.nextElementSibling.nextElementSibling.nextElementSibling.innerText
                var majormemo = pnode.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.innerText

                var target_table = document.querySelector('#selectItem')
                const newrow = target_table.insertRow()
                const newcell1 = newrow.insertCell(0);
                const newcell2 = newrow.insertCell(1);
                const newcell3 = newrow.insertCell(2);
                const newcell4 = newrow.insertCell(3);
                const newcell5 = newrow.insertCell(4);
                newcell1.innerHTML = '<input type=checkbox class=newChk value='+i+'>'
                newcell2.innerText = gnumber
                newcell3.innerText = gname
                newcell4.innerText = major
                newcell5.innerText = majormemo
            }
        }
       // alert(delidx.length);
        var originTable = document.querySelector('#oldItem')
        for(let i=delidx.length-1 ; i >= 0; i--){
            originTable.deleteRow(delidx[i]);
        }
    }

</script>